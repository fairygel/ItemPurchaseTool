<template>
    <lightning-card>
        <div class="slds-m-horizontal--medium slds-m-bottom--large">

            <!-- ERROR NO ACCOUNT CHOSEN -->

            <template lwc:if={accountError}>
                <div class="slds-text-align--center">
                    <strong>account not chosen. </strong>
                    <lightning-button
                            label="go to accounts"
                            onclick={handleNavigate}
                            variant="brand">
                    </lightning-button>
                </div>
            </template>

            <template lwc:else>
                <template lwc:if={account}>
                    <div style="padding: 0 20px; display: flex; justify-content: space-between; text-align: center;">
                        <template if:true={isManager}>
                            <span>
                                <lightning-button
                                        label="Add Item"
                                        onclick={handleShowCreateForm}>
                                </lightning-button>
                            </span>
                        </template>
                        <span style="flex: 1; text-align: left;"><strong>{account.Name}</strong></span>
                        <span style="flex: 1;"><strong>{account.AccountNumber}</strong></span>
                        <span style="flex: 1; text-align: right;"><strong>{account.Industry}</strong></span>
                        <span>
                            <lightning-button
                                label="Cart"
                                variant="brand"
                                onclick={handleCartOpen}>
                            </lightning-button>
                        </span>
                    </div>
                </template>

                <template lwc:else>
                    <p class="slds-text-align--center">
                        <strong>loading..</strong>
                    </p>
                </template>

                <!-- NEW ITEM FORM -->

                <c-item-create-form
                        visible={isModalOpen}
                        onclose={handleCloseModal}>
                </c-item-create-form>

                <c-cart visible={isCartOpen} account-id={accountId} onclose={handleCloseCart}></c-cart>
            </template>
        </div>
    </lightning-card>
</template>